<%= link_to("ToDo登録", "javascript:void(0)", id: "new-task") %>
<div>
  <div class="task-row row-head">
    <div class="task-col">進捗状況</div>
    <div class="task-col2">ToDo</div>
    <div class="task-col2">備考</div>
    <div class="task-col">優先順位</div>
    <div class="task-col">コンテキスト</div>
    <div class="task-col2">開始日</div>
    <div class="task-col2">終了日</div>
    <div class="task-col">工数見積</div>
    <div class="task-col">工数実績</div>
    <div class="task-col">進捗見積</div>
    <div class="task-col">進捗実績</div>
    <div class="task-col">進捗率</div>
  </div>
  <div class="cb" style="height: 0"></div>
  <hr style="padding: 0; margin: 0">
  <% @task_lists.each do |task_list| %>
    <div class="task-row">
      <%= form_with url: home_path(task_list), model: task_list, id: "task-form" do |form| %>
        <div class="task-col">
          <%= form.select :status, TaskList.statuses_i18n.keys.map { |k| [TaskList.statuses_i18n[k], k]}, {}, class: "form-control" %>
        </div>
        <div class="task-col2">
          <%= form.text_field :todo, class: "form-control" %>
        </div>
        <div class="task-col2">
          <%= form.text_field :memo, class: "form-control"%>
        </div>
        <div class="task-col">
          <%= form.text_field :priority, class: "form-control"%>
        </div>
        <div class="task-col">
          <%= form.select :context, TaskList.contexts_i18n.keys.map { |k| [TaskList.contexts_i18n[k], k]}, {}, class: "form-control" %>
        </div>
        <div class="task-col2">
          <%= form.date_field :start, class: "form-control"%>
        </div>
        <div class="task-col2">
          <%= form.date_field :end, class: "form-control"%>
        </div>
        <div class="task-col">
          <%= form.number_field :budget_h, class: "form-control"%>
        </div>
        <div class="task-col">
          <%= form.number_field :result_h, class: "form-control"%>
        </div>
        <div class="task-col">
          <%= form.number_field :budget_p, class: "form-control"%>
        </div>
        <div class="task-col">
          <%= form.number_field :result_p, class: "form-control"%>
        </div>
        <div class="task-col form"><%= task_list.progress %>%</div>
        <div class="cb"></div>
      <% end %>
    </div>
  <% end %>
</div>
<div class="new-task" style="visibility: hidden">
  <%= form_with url: home_index_path, id: "new-task-form" do |form| %>
    <div class="form-group">
      <%= form.label :status %>
      <%= form.select :status,  TaskList.statuses_i18n.keys.map { |k| [TaskList.statuses_i18n[k], k]}, {}, class: "form-control" %>
    </div>
    <div class="form-group">
      <%= form.label :todo %>
      <%= form.text_field :todo, class: "form-control", value: "todo" %>
    </div>
    <div class="form-group">
      <%= form.label :memo %>
      <%= form.text_field :memo, class: "form-control", value: "memo" %>
    </div>
    <div class="form-group">
      <%= form.label :priority %>
      <%= form.text_field :priority, class: "form-control", value: "C" %>
    </div>
    <div class="form-group">
      <%= form.label :context %>
      <%= form.select :context,  TaskList.contexts_i18n.keys.map { |k| [TaskList.contexts_i18n[k], k]}, {}, class: "form-control" %>
    </div>
    <div class="form-group">
      <%= form.label :start %>
      <%= form.date_field :start, class: "form-control today", value: "2019-04-30" %>
    </div>
    <div class="form-group">
      <%= form.label :end %>
      <%= form.date_field :end, class: "form-control today" %>
    </div>
    <div class="form-group">
      <%= form.label :budget_h %>
      <%= form.number_field :budget_h, class: "form-control", value: "1" %>
    </div>
    <div class="form-group">
      <%= form.label :result_h %>
      <%= form.number_field :result_h, class: "form-control", value: "1" %>
    </div>
    <div class="form-group">
      <%= form.label :budget_p %>
      <%= form.number_field :budget_p, class: "form-control", value: "1" %>
    </div>
    <div class="form-group">
      <%= form.label :result_p %>
      <%= form.number_field :result_p, class: "form-control", value: "1" %>
    </div>
  <% end %>
</div>