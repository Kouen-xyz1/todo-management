<table class="table" style="width: 1500px">
  <%= link_to("ToDo登録", "javascript:void(0)", id: "new-task") %>
  <thead>
    <tr>
      <th scope="col">進捗状況</th>
      <th scope="col">ToDo</th>
      <th scope="col">備考</th>
      <th scope="col">優先順位</th>
      <th scope="col">コンテキスト</th>
      <th scope="col">開始日</th>
      <th scope="col">終了日</th>
      <th scope="col">工数見積</th>
      <th scope="col">工数実績</th>
      <th scope="col">進捗見積</th>
      <th scope="col">進捗実績</th>
      <th scope="col">進捗率</th>
      <th scope="col"></th>
  </thead>
  <tbody>
    <% @task_lists.each do |task_list| %>
      <tr>
        <%= form_with url: home_path(task_list), model: task_list, id: "task-form" do |form| %>
          <td>
            <%= form.select :status, TaskList.statuses_i18n.keys.map { |k| [TaskList.statuses_i18n[k], k]}, {}, class: "form-control" %>
          </td>
          <td>
            <%= form.text_field :todo, class: "form-control" %>
          </td>
          <td>
            <%= form.text_field :memo, class: "form-control"%>
          </td>
          <td>
            <%= form.text_field :priority, class: "form-control"%>
          </td>
          <td>
            <%= form.select :context, TaskList.contexts_i18n.keys.map { |k| [TaskList.contexts_i18n[k], k]}, {}, class: "form-control" %>
          </td>
          <td>
            <%= form.date_field :start, class: "form-control"%>
          </td>
          <td>
            <%= form.date_field :end, class: "form-control"%>
          </td>
          <td>
            <%= form.number_field :budget_h, class: "form-control"%>
          </td>
          <td>
            <%= form.number_field :result_h, class: "form-control"%>
          </td>
          <td>
            <%= form.number_field :budget_p, class: "form-control"%>
          </td>
          <td>
            <%= form.number_field :result_p, class: "form-control"%>
          </td>
          <td><%= task_list.progress %>%</td>
        <% end %>
      </tr>
    <% end %>
  </tbody>
</table>
<div class="new-task" style="visibility: hidden">
  <%= form_with url: home_index_path, id: "new-task-form" do |form| %>
    <div class="form-group">
      <%= form.label :status %>
      <%= form.select :status,  TaskList.statuses_i18n.keys.map { |k| [TaskList.statuses_i18n[k], k]}, {}, class: "form-control" %>
    </div>
    <div class="form-group">
      <%= form.label :todo %>
      <%= form.text_field :todo, class: "form-control", value: "todo" %>
    </div>
    <div class="form-group">
      <%= form.label :memo %>
      <%= form.text_field :memo, class: "form-control", value: "memo" %>
    </div>
    <div class="form-group">
      <%= form.label :priority %>
      <%= form.text_field :priority, class: "form-control", value: "C" %>
    </div>
    <div class="form-group">
      <%= form.label :context %>
      <%= form.select :context,  TaskList.contexts_i18n.keys.map { |k| [TaskList.contexts_i18n[k], k]}, {}, class: "form-control" %>
    </div>
    <div class="form-group">
      <%= form.label :start %>
      <%= form.date_field :start, class: "form-control today", value: "2019-04-30" %>
    </div>
    <div class="form-group">
      <%= form.label :end %>
      <%= form.date_field :end, class: "form-control today" %>
    </div>
    <div class="form-group">
      <%= form.label :budget_h %>
      <%= form.number_field :budget_h, class: "form-control", value: "1" %>
    </div>
    <div class="form-group">
      <%= form.label :result_h %>
      <%= form.number_field :result_h, class: "form-control", value: "1" %>
    </div>
    <div class="form-group">
      <%= form.label :budget_p %>
      <%= form.number_field :budget_p, class: "form-control", value: "1" %>
    </div>
    <div class="form-group">
      <%= form.label :result_p %>
      <%= form.number_field :result_p, class: "form-control", value: "1" %>
    </div>
  <% end %>
</div>